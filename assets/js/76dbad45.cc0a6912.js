"use strict";(globalThis.webpackChunkwebsite_green_link=globalThis.webpackChunkwebsite_green_link||[]).push([[5364],{3258:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>d,toc:()=>c});const d=JSON.parse('{"id":"Data/setup_db","title":"setup_db","description":"O que este m\xf3dulo faz","source":"@site/docs/Data/setup_db.md","sourceDirName":"Data","slug":"/Data/setup_db","permalink":"/WebsiteGreenLink/docs/Data/setup_db","draft":false,"unlisted":false,"editUrl":"https://github.com/kampello/GreenLink/docs/Data/setup_db.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"setup_db","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"insert_test_data","permalink":"/WebsiteGreenLink/docs/Data/insert_test_data"},"next":{"title":"Toolbox - Cixa de Ferramentas do Sistema","permalink":"/WebsiteGreenLink/docs/Tools/toolBox"}}');var n=s(4848),o=s(8453);const a={title:"setup_db",sidebar_position:2},l="scripts/setup_db.py",r={},c=[{value:"O que este m\xf3dulo faz",id:"o-que-este-m\xf3dulo-faz",level:2},{value:"Liga\xe7\xe3o \xe0 base de dados",id:"liga\xe7\xe3o-\xe0-base-de-dados",level:2},{value:"O que faz",id:"o-que-faz",level:3},{value:"Base de dados",id:"base-de-dados",level:3},{value:"Tabela: <code>utilizadores</code>",id:"tabela-utilizadores",level:2},{value:"Objetivo",id:"objetivo",level:3},{value:"Campos principais",id:"campos-principais",level:3},{value:"O que faz",id:"o-que-faz-1",level:3},{value:"Tabela: <code>produtos</code>",id:"tabela-produtos",level:2},{value:"Objetivo",id:"objetivo-1",level:3},{value:"Campos principais",id:"campos-principais-1",level:3},{value:"Tabela: <code>pedidos</code>",id:"tabela-pedidos",level:2},{value:"Objetivo",id:"objetivo-2",level:3},{value:"Campos principais",id:"campos-principais-2",level:3},{value:"Tabela: <code>tickets_produto</code>",id:"tabela-tickets_produto",level:2},{value:"Objetivo",id:"objetivo-3",level:3},{value:"Campos principais",id:"campos-principais-3",level:3},{value:"Tabela: <code>entregas</code>",id:"tabela-entregas",level:2},{value:"Objetivo",id:"objetivo-4",level:3},{value:"Campos principais",id:"campos-principais-4",level:3},{value:"Tabela: <code>objetivos_mensais</code>",id:"tabela-objetivos_mensais",level:2},{value:"Objetivo",id:"objetivo-5",level:3},{value:"Campos principais",id:"campos-principais-5",level:3},{value:"Tabela: <code>mensagens</code>",id:"tabela-mensagens",level:2},{value:"Objetivo",id:"objetivo-6",level:3},{value:"Campos principais",id:"campos-principais-6",level:3},{value:"Sa\xedda do script",id:"sa\xedda-do-script",level:2},{value:"O que faz",id:"o-que-faz-2",level:3},{value:"Nota da equipe",id:"nota-da-equipe",level:3}];function t(e){const i={code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"scriptssetup_dbpy",children:(0,n.jsx)(i.code,{children:"scripts/setup_db.py"})})}),"\n",(0,n.jsx)(i.h2,{id:"o-que-este-m\xf3dulo-faz",children:"O que este m\xf3dulo faz"}),"\n",(0,n.jsxs)(i.p,{children:["Este script cria (se ainda n\xe3o existirem) as tabelas da base de dados SQLite (",(0,n.jsx)(i.code,{children:"data/greenlink.db"}),") usadas pela aplica\xe7\xe3o."]}),"\n",(0,n.jsxs)(i.p,{children:["Ele define a estrutura inicial do sistema, incluindo utilizadores, produtos, pedidos, tickets e outros m\xf3dulos (entregas, objetivos e mensagens). ",(0,n.jsx)(i.div,{children:"oaicite:1"})]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"liga\xe7\xe3o-\xe0-base-de-dados",children:"Liga\xe7\xe3o \xe0 base de dados"}),"\n",(0,n.jsx)(i.h3,{id:"o-que-faz",children:"O que faz"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["Liga \xe0 BD com ",(0,n.jsx)(i.code,{children:'sqlite3.connect("data/greenlink.db")'})]}),"\n",(0,n.jsxs)(i.li,{children:["Cria cursor com ",(0,n.jsx)(i.code,{children:"conn.cursor()"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"base-de-dados",children:"Base de dados"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"data/greenlink.db"})}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"tabela-utilizadores",children:["Tabela: ",(0,n.jsx)(i.code,{children:"utilizadores"})]}),"\n",(0,n.jsx)(i.h3,{id:"objetivo",children:"Objetivo"}),"\n",(0,n.jsx)(i.p,{children:"Guardar utilizadores e o seu tipo (admin/cliente/fornecedor)."}),"\n",(0,n.jsx)(i.h3,{id:"campos-principais",children:"Campos principais"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"id"})," (PK autoincrement)"]}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"nome"})}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"tipo"})," com ",(0,n.jsx)(i.code,{children:"CHECK(tipo IN ('admin','cliente','fornecedor'))"})]}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"senha"})}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"o-que-faz-1",children:"O que faz"}),"\n",(0,n.jsxs)(i.p,{children:["Cria a tabela com ",(0,n.jsx)(i.code,{children:"CREATE TABLE IF NOT EXISTS utilizadores (...)"}),"."]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"tabela-produtos",children:["Tabela: ",(0,n.jsx)(i.code,{children:"produtos"})]}),"\n",(0,n.jsx)(i.h3,{id:"objetivo-1",children:"Objetivo"}),"\n",(0,n.jsx)(i.p,{children:"Guardar produtos dispon\xedveis para compra/gest\xe3o de stock."}),"\n",(0,n.jsx)(i.h3,{id:"campos-principais-1",children:"Campos principais"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"id"})," (PK)"]}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"nome"})}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"preco"})," (REAL)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"stock"})," (INTEGER)"]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"tabela-pedidos",children:["Tabela: ",(0,n.jsx)(i.code,{children:"pedidos"})]}),"\n",(0,n.jsx)(i.h3,{id:"objetivo-2",children:"Objetivo"}),"\n",(0,n.jsx)(i.p,{children:"Registar compras de clientes (pedido por produto)."}),"\n",(0,n.jsx)(i.h3,{id:"campos-principais-2",children:"Campos principais"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"cliente_id"})," (FK \u2192 ",(0,n.jsx)(i.code,{children:"utilizadores.id"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"produto_id"})," (FK \u2192 ",(0,n.jsx)(i.code,{children:"produtos.id"}),")"]}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"quantidade"})}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"estado"})," com ",(0,n.jsx)(i.code,{children:"CHECK(estado IN ('feito','pago','enviado','entregue'))"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["default: ",(0,n.jsx)(i.code,{children:"'feito'"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"tabela-tickets_produto",children:["Tabela: ",(0,n.jsx)(i.code,{children:"tickets_produto"})]}),"\n",(0,n.jsx)(i.h3,{id:"objetivo-3",children:"Objetivo"}),"\n",(0,n.jsx)(i.p,{children:"Registar tickets submetidos por fornecedores para criar/atualizar produtos."}),"\n",(0,n.jsx)(i.h3,{id:"campos-principais-3",children:"Campos principais"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"fornecedor"})," (texto)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"produto"})," (texto)"]}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"preco"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"stock"})}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"status"})," (default ",(0,n.jsx)(i.code,{children:"'pendente'"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"tabela-entregas",children:["Tabela: ",(0,n.jsx)(i.code,{children:"entregas"})]}),"\n",(0,n.jsx)(i.h3,{id:"objetivo-4",children:"Objetivo"}),"\n",(0,n.jsx)(i.p,{children:"Registar entregas associadas a pedidos."}),"\n",(0,n.jsx)(i.h3,{id:"campos-principais-4",children:"Campos principais"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"pedido_id"})," (FK \u2192 ",(0,n.jsx)(i.code,{children:"pedidos.id"}),")"]}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"produto"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"fornecedor"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"supermercado"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"data_prevista"})}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"data_real"})," (opcional)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"status"})," com ",(0,n.jsx)(i.code,{children:"CHECK(status IN ('no prazo', 'atrasado'))"})]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"tabela-objetivos_mensais",children:["Tabela: ",(0,n.jsx)(i.code,{children:"objetivos_mensais"})]}),"\n",(0,n.jsx)(i.h3,{id:"objetivo-5",children:"Objetivo"}),"\n",(0,n.jsx)(i.p,{children:"Guardar objetivos e resultados mensais de produ\xe7\xe3o/vendas/receita."}),"\n",(0,n.jsx)(i.h3,{id:"campos-principais-5",children:"Campos principais"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"mes"})}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"objetivo_producao"}),", ",(0,n.jsx)(i.code,{children:"objetivo_vendas"}),", ",(0,n.jsx)(i.code,{children:"objetivo_receita"})]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"realizado_producao"}),", ",(0,n.jsx)(i.code,{children:"realizado_vendas"}),", ",(0,n.jsx)(i.code,{children:"realizado_receita"})," (defaults 0)"]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"tabela-mensagens",children:["Tabela: ",(0,n.jsx)(i.code,{children:"mensagens"})]}),"\n",(0,n.jsx)(i.h3,{id:"objetivo-6",children:"Objetivo"}),"\n",(0,n.jsx)(i.p,{children:"Permitir mensagens entre utilizadores (remetente/destinat\xe1rio)."}),"\n",(0,n.jsx)(i.h3,{id:"campos-principais-6",children:"Campos principais"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"remetente"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"destinatario"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:"mensagem"})}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"data"})," (default ",(0,n.jsx)(i.code,{children:"CURRENT_TIMESTAMP"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"sa\xedda-do-script",children:"Sa\xedda do script"}),"\n",(0,n.jsx)(i.h3,{id:"o-que-faz-2",children:"O que faz"}),"\n",(0,n.jsx)(i.p,{children:"No final imprime:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.code,{children:'"Base de dados criada com sucesso!"'})}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"nota-da-equipe",children:"Nota da equipe"}),"\n",(0,n.jsx)(i.p,{children:"Correr este codigo antes de abrir o Main ou Insert_Test_data \xe9 importante pois este \xe9 o ficheiro que cira a estrotura interna da Base de dados no projeto"})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}},8453:(e,i,s)=>{s.d(i,{R:()=>a,x:()=>l});var d=s(6540);const n={},o=d.createContext(n);function a(e){const i=d.useContext(o);return d.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),d.createElement(o.Provider,{value:i},e.children)}}}]);